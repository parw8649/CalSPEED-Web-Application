<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no" />
<meta charset="UTF-8" />

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

<link rel="stylesheet" href="/css/speedtest.css">
<link rel="stylesheet" href="/css/homepage.css">

<title>Calspeed</title>
</head>
<body>
<!-- body content -->
<div class="d-flex">
	<div class="nav flex-column nav-pills overlay" id="v-pills-tab" role="tablist" aria-orientation="vertical">
		<a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
		<br>
		<span>
			<img src = "/images/logo-big-calspeed.png" height="165" width="165" alt="Calspeed_logo"><br>
		</span><br>
		<hr>
		<button class="nav-link active" id="v-pills-tester-tab" data-bs-toggle="pill" data-bs-target="#v-pills-tester" 
			type="button" role="tab" aria-controls="v-pills-tester" aria-selected="true" onclick="closeNav()">Tester</button>
		<button class="nav-link" id="v-pills-history-tab" data-bs-toggle="pill" data-bs-target="#v-pills-history" 
			type="button" role="tab" aria-controls="v-pills-history" aria-selected="false" onclick="closeNav()">History</button>
		<button class="nav-link" id="v-pills-about-tab" data-bs-toggle="pill" data-bs-target="#v-pills-about" 
			type="button" role="tab" aria-controls="v-pills-about" aria-selected="false" onclick="closeNav()">About</button>
		<!-- 
			<button class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" data-bs-target="#v-pills-settings" type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</button>
		-->
	</div>
	<div class="tab-content" id="v-pills-tabContent">
		<!-- Tester tab -->
		<div class="tab-pane fade show active" id="v-pills-tester" role="tabpanel" aria-labelledby="v-pills-tester-tab">
			<div class="mt-4 p-3 text-white rounded" id="contentTitle">
				<div class="d-none d-xl-block d-xxl-block" 
				style="font-size:50px;cursor:pointer;float: left;" onclick="openNav()">
					&#9776;
				</div>&nbsp;
				<h1><strong>CalSPEED</strong></h1>
			</div><br>
			<div class="status-slider">
				<datalist id="tickmarks">
					<option value="start" label="Start"></option>
					<option value="virginia_server" label="Virginia Server"></option>
					<option value="complete" label="Complete"></option>
				</datalist>
				<input type="range" class="form-control-range" min="0" max="12" step="1" value="0" id="customRange3" list="tickmarks">
			</div>
			<br><br>
			<div class="meter-area">
				<div id="testWrapper">
					<div id="startStopBtn" onclick="startStop()"></div><br/>
					<a class="privacy" href="#" onclick="I('privacyPolicy').style.display=''">Privacy</a>
					<div id="test">
						<div class="testGroup">
							<div class="testArea2">
								<div class="testName">Ping</div>
								<div id="pingText" class="meterText" style="color:#AA6060"></div>
								<div class="unit">ms</div>
							</div>
							<div class="testArea2">
								<div class="testName">Jitter</div>
								<div id="jitText" class="meterText" style="color:#AA6060"></div>
								<div class="unit">ms</div>
							</div>
						</div>
						<div class="testGroup">
							<div class="testArea">
								<div class="testName">
								<img src="images/download_icon.png" height="25" width="25"> 
									Download
								</div>
								<canvas id="dlMeter" class="meter"></canvas>
								<div id="dlText" class="meterText"></div>
								<div class="unit">Mbps</div>
							</div>
							<div class="testArea">
								<div class="testName">
									<img src="images/upload_icon.png" height="25" width="25">	
									Upload
								</div>
								<canvas id="ulMeter" class="meter"></canvas>
								<div id="ulText" class="meterText"></div>
								<div class="unit">Mbps</div>
							</div>
						</div><br>
						<div id="ipArea" class="d-none">
							<span><img src="images/server_img.png" height="25" width="25">  Virginia Server</span><br>
							<img src="images/profile.png" height="29" width="29"><span id="ip"></span>
						</div>
						<div id="shareArea" style="display:none">
							<h3>Share results</h3>
							<p>Test ID: <span id="testId"></span></p>
							<input type="text" value="" id="resultsURL" readonly="readonly" onclick="this.select();this.focus();this.select();document.execCommand('copy');alert('Link copied')"/>
						</div>
					</div>
				</div>
				<hr style="color: #ff3333; height: 3px;">
				<div style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;© CalSPEED 2022</div>
				<div id="privacyPolicy" style="display:none">
					<div class="mt-2 p-1 bg-dark text-white rounded" id="privacyTitle"><h2>Privacy Policy</h2></div><br>
					<p>This HTML5 Speedtest server is configured with telemetry enabled.</p>
					<h4>What data we collect</h4>
					<p>
						At the end of the test, the following data is collected and stored:
						<ul>
							<li>Test ID</li>
							<li>Time of testing</li>
							<li>Test results (download and upload speed, ping and jitter)</li>
							<li>IP address</li>
							<li>ISP information</li>
							<li>Approximate location (inferred from IP address, not GPS)</li>
							<li>User agent and browser locale</li>
							<li>Test log (contains no personal information)</li>
						</ul>
					</p>
					<h4>How we use the data</h4>
					<p>
						Data collected through this service is used to:
						<ul>
							<li>Allow sharing of test results (sharable image for forums, etc.)</li>
							<li>To improve the service offered to you (for instance, to detect problems on our side)</li>
						</ul>
						No personal information is disclosed to third parties.
					</p>
					<h4>Your consent</h4>
					<p>
						By starting the test, you consent to the terms of this privacy policy.
					</p>
					<br/><br/>
					<div class="closePrivacyPolicy">
						<a class="privacy" href="#" onclick="I('privacyPolicy').style.display='none'">Close</a>
					</div>
					<br/>
				</div>
			</div>
		</div>
		<!-- History tab -->
		<div class="tab-pane fade" id="v-pills-history" role="tabpanel" aria-labelledby="v-pills-history-tab">
			<div class="mt-4 p-3 text-white rounded" id="contentTitle">
				<div style="font-size:50px;cursor:pointer;float: left;" onclick="openNav()">&#9776;</div>&nbsp;
				<h1><strong>CalSPEED History</strong></h1>
			</div><br>
			<div class="table-responsive">
				<table class="table table-striped table-dark table-hover">
					<thead class="table table-striped table-dark table-hover">
						<tr>
							<th>SR No.</th>
							<th>Date</th>
							<th>IP</th>
							<th>UA</th>
							<th>Lang</th>
							<th>Download</th>
							<th>Upload</th>
							<th>Ping</th>
							<th>Jitter</th>
							<th>ISP Info</th>
						</tr>
					</thead>
					<tbody id = "historyData">
						<tr>
							<td>May 07, 2022</td>
							<td>Marina, 93933</td>
							<td>245 mbps</td>
							<td>273.79 mbps</td>
							<td>9.60 ms</td>
							<td>66.00 ms</td>
							<td>HD</td>
							<td>Satisfactory</td>
							<td>ISP Info data</td>
						</tr>
					</tbody>
				</table>
				<hr style="color: #ff3333; height: 3px;">
				<div style="text-align: left;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;© CalSPEED 2022</div>
				<br><br><br><br><br><br><br><br><br><br><br><br>
				<br><br><br><br><br><br><br><br><br><br><br><br>
			</div>
		</div>
		<!-- About tab -->
		<div class="tab-pane fade" id="v-pills-about" role="tabpanel" aria-labelledby="#v-pills-about-tab">
			<div class="mt-4 p-3 text-white rounded" id="contentTitle">
				<div style="font-size:50px;cursor:pointer;float: left;" onclick="openNav()">&#9776;</div>&nbsp;
				<h1><strong>About CalSPEED</strong></h1>
			</div>
			<div class="container">
				<div class="row">
					<div class="col-lg-2"></div>
					<div class="col-lg-8" id="aboutCalspeed">
						<hr style="color: #ff3333; height: 3px;">
						<b><u>CalSPEED</u></b>, released by the California Public Utilities Commission (CPUC), empowers end-users with a professional-level, 
						industry-standard testing tool to measure the quality and speed of their residential fixed internet connection.<br><br>
						CalSPEED conducts a two-phase test including initial testing and results validation in order to ensure statistically significant measurements.
						This Web based speed test application allows users to run a network speedtest without downloading or installing any application. 
						It is easy to maintain, is convenient and provides portability.<br><br>
						The objective of this project is to create a web based application capable of competing against other high end speed tests on the internet. 
						The web based app accurately measures and stores download speed, message delay (Latency), 
						and message delay variation (Jitter) across multiple devices while maintaining security.<br>

						<br>Developer:
						<a href="https://github.com/parw8649/CalSPEED-Web-Application" target="_blank" data-toggle="tooltip" data-placement="top" title="Github"><img src="images/github.png" height="35" width="38" alt="github_link"></a>

						<hr style="color: #ff3333; height: 3px;">
						<div style="text-align: left;">© CalSPEED 2022</div>
					</div>
					<div class="col-lg-2"></div>
				</div>
			</div>
			<br><br><br><br><br><br><br><br><br><br><br><br>
			<br><br><br><br><br><br><br><br><br><br><br><br>
		</div>
		<!--
			<div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab"></div>
		-->
	</div>
</div>
<!-- body end -->
<!-- Bootstrap Bundle with Popper -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script type="text/javascript" src="js/speedtest.js"></script>
<script type="text/javascript" src="js/homepage.js"></script>
<script type="text/javascript">setTimeout(function(){initUI()},100);</script>
</body>
</html>
