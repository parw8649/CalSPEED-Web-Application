<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        
        <title>Calspeed</title>

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    
        <link rel="stylesheet" href="/css/homepage.css">
        <link rel="stylesheet" href="/css/speedtest.css">
    </head>
    <body onload="initServers()">
        
        <div class="d-flex">
            <div class="nav flex-column nav-pills me-3" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                <img src = "/images/logo-big-calspeed.png" height="175" width="175" alt="Calspeed_logo"><br>
                <hr>
                <button class="nav-link active" id="v-pills-home-tab" data-bs-toggle="pill" data-bs-target="#v-pills-home" type="button" role="tab" aria-controls="v-pills-home" aria-selected="true">Tester</button>
                <button class="nav-link" id="v-pills-profile-tab" data-bs-toggle="pill" data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile" aria-selected="false">History</button>
                <!-- 
                <button class="nav-link" id="v-pills-messages-tab" data-bs-toggle="pill" data-bs-target="#v-pills-messages" type="button" role="tab" aria-controls="v-pills-messages" aria-selected="false">Messages</button>
                <button class="nav-link" id="v-pills-settings-tab" data-bs-toggle="pill" data-bs-target="#v-pills-settings" type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</button>
                -->
            </div>
            <div class="tab-content" id="v-pills-tabContent">
                <!-- Tester tab -->
                <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                    <div class="status-slider">
                        <datalist id="tickmarks">
                            <option value="start" label="Start"></option>
                            <option value="preliminary_test" label="Preliminary Test"></option>
                            <option value="california_server" label="California Server"></option>
                            <option value="virginia_server" label="Virginia Server"></option>
                            <option value="complete" label="Complete"></option>
                        </datalist>
                        <input type="range" class="form-control-range" min="0" max="4" step="1" value="0" id="customRange3" list="tickmarks">
                    </div>
                    <br><br>
                    <div class="meter-area">
                        <div id="loading" class="visible">
                            <p id="message"><span class="loadCircle"></span>Selecting a server...</p>
                        </div>
                        <div id="testWrapper" class="invisible">
                            <div id="startStopBtn" onclick="startStop()"></div><br/>
                            <a class="privacy" href="#" onclick="I('privacyPolicy').style.display=''">Privacy</a>
                            <div id="serverArea">
                                Server: <select id="server" onchange="s.setSelectedServer(SPEEDTEST_SERVERS[this.value])"></select>
                            </div>
                            <div id="test">
                                <div class="testGroup">
                                    <div class="testArea2">
                                        <div class="testName">Ping</div>
                                        <div id="pingText" class="meterText" style="color:#AA6060"></div>
                                        <div class="unit">ms</div>
                                    </div>
                                    <div class="testArea2">
                                        <div class="testName">Jitter</div>
                                        <div id="jitText" class="meterText" style="color:#AA6060"></div>
                                        <div class="unit">ms</div>
                                    </div>
                                </div>
                                <div class="testGroup">
                                    <div class="testArea">
                                        <div class="testName">Download</div>
                                        <canvas id="dlMeter" class="meter"></canvas>
                                        <div id="dlText" class="meterText"></div>
                                        <div class="unit">Mbps</div>
                                    </div>
                                    <div class="testArea">
                                        <div class="testName">Upload</div>
                                        <canvas id="ulMeter" class="meter"></canvas>
                                        <div id="ulText" class="meterText"></div>
                                        <div class="unit">Mbps</div>
                                    </div>
                                </div>
                                <div id="ipArea">
                                    <span id="ip"></span>
                                </div>
                                <div id="shareArea" style="display:none">
                                    <h3>Share results</h3>
                                    <p>Test ID: <span id="testId"></span></p>
                                    <input type="text" value="" id="resultsURL" readonly="readonly" onclick="this.select();this.focus();this.select();document.execCommand('copy');alert('Link copied')"/>
                                    <img src="" id="resultsImg" />
                                </div>
                            </div>
                        </div>
                        <div id="privacyPolicy" style="display:none">
                            <h2>Privacy Policy</h2>
                            <p>This HTML5 Speedtest server is configured with telemetry enabled.</p>
                            <h4>What data we collect</h4>
                            <p>
                                At the end of the test, the following data is collected and stored:
                                <ul>
                                    <li>Test ID</li>
                                    <li>Time of testing</li>
                                    <li>Test results (download and upload speed, ping and jitter)</li>
                                    <li>IP address</li>
                                    <li>ISP information</li>
                                    <li>Approximate location (inferred from IP address, not GPS)</li>
                                    <li>User agent and browser locale</li>
                                    <li>Test log (contains no personal information)</li>
                                </ul>
                            </p>
                            <h4>How we use the data</h4>
                            <p>
                                Data collected through this service is used to:
                                <ul>
                                    <li>Allow sharing of test results (sharable image for forums, etc.)</li>
                                    <li>To improve the service offered to you (for instance, to detect problems on our side)</li>
                                </ul>
                                No personal information is disclosed to third parties.
                            </p>
                            <h4>Your consent</h4>
                            <p>
                                By starting the test, you consent to the terms of this privacy policy.
                            </p>
                            <h4>Data removal</h4>
                            <p>
                                If you want to have your information deleted, you need to provide either the ID of the test or your IP address. This is the only way to identify your data, without this information we won't be able to comply with your request.<br/><br/>
                                Contact this email address for all deletion requests: <a href="mailto:PUT@YOUR_EMAIL.HERE">TO BE FILLED BY DEVELOPER</a>.
                            </p>
                            <br/><br/>
                            <div class="closePrivacyPolicy">
                                <a class="privacy" href="#" onclick="I('privacyPolicy').style.display='none'">Close</a>
                            </div>
                            <br/>
                        </div>
                    </div>
                </div>
                <!-- History tab -->
                <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
                    <div class="table-responsive">
                        <table class="table table-hover">
                            <thead class="table">
                                <tr>
                                    <th>Date</th>
                                    <th>Location</th>
                                    <th>Upload</th>
                                    <th>Download</th>
                                    <th>Jitter</th>
                                    <th>Latency</th>
                                    <th>Video Streaming</th>
                                    <th>MOS</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Apr 12, 2022</td>
                                    <td>Mumbai, 400091</td>
                                    <td>17.11 mbps</td>
                                    <td>2.29 mbps</td>
                                    <td>0.40 ms</td>
                                    <td>221.50 ms</td>
                                    <td>HD</td>
                                    <td>Satisfactory</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <!--
                <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab"></div>
                <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab"></div>
                -->
            </div>
        </div>

        <!-- Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <script type="text/javascript" src="js/speedtest.js"></script>
        <script type="text/javascript" src="js/homepage.js"></script>
    </body>
</html>